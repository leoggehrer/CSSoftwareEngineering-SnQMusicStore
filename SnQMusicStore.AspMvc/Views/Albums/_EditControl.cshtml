@{
    @model SnQMusicStore.AspMvc.Models.Persistence.App.Album

    var viewBagWrapper = Model.ViewBagInfo;
    var property = viewBagWrapper.DisplayProperty;

    if (property.Name.Equals(nameof(Model.ArtistId)))
    {
        var editViewModel = Model.ViewBagInfo.CreateEditViewModel(Model);

        @if (Model.Artists != null)
        {
            @Html.DropDownListFor(m => m.ArtistId, new SelectList(Model.Artists, "Id", "Name"), null, new { @class = "form-control", style = "min-width: 400px;" })
        }
        Model.ViewBagInfo.Handled = true;
    }
    else
    {
        @await Html.PartialAsync("../Shared/_EditControl", Model)
    }
}
