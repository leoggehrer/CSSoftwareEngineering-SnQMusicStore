@{
    @using SnQMusicStore.AspMvc.Models.Modules.View
    @using SnQMusicStore.AspMvc.Modules.View
    @model EditViewModel

    var viewBagInfo = Model.ViewBagInfo;
    var property = viewBagInfo.DisplayProperty;

    if (property.Name.Equals("GenreId"))
    {
        @if (Model.DisplayModel is SnQMusicStore.AspMvc.Models.Persistence.App.Track track)
        {
            @Html.DropDownList("GenreId", new SelectList(track.Genres, "Id", "Name"), null, new { @class = "form-control", style = "min-width: 400px;" })
        }
        Model.ViewBagInfo.Handled = true;
    }
    else if (property.Name.Equals("AlbumId"))
    {
        @if (Model.DisplayModel is SnQMusicStore.AspMvc.Models.Persistence.App.Track track)
        {
            @Html.DropDownList("AlbumId", new SelectList(track.Albums, "Id", "Title"), null, new { @class = "form-control", style = "min-width: 400px;" })
        }
        Model.ViewBagInfo.Handled = true;
    }
    else
    {
        @await Html.PartialAsync("../Shared/_EditControl", Model)
    }
}
